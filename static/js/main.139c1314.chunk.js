(this["webpackJsonpmutual-aid-networks"]=this["webpackJsonpmutual-aid-networks"]||[]).push([[0],{242:function(e,t,a){e.exports=a.p+"static/media/eventMap.91377ca8.png"},243:function(e,t,a){e.exports=a.p+"static/media/PledgeMap.bbb71791.png"},244:function(e,t,a){e.exports=a.p+"static/media/THP_logo_horizontal.284a5415.png"},245:function(e,t,a){e.exports=a.p+"static/media/TH1.d9ab3f46.jpg"},246:function(e,t,a){e.exports=a.p+"static/media/TH2.83488dfb.jpg"},263:function(e,t,a){e.exports=a(477)},343:function(e,t,a){},344:function(e,t,a){},345:function(e,t,a){},346:function(e,t,a){},348:function(e,t,a){},364:function(e,t,a){},400:function(e,t,a){},423:function(e,t,a){},442:function(e,t,a){},443:function(e,t,a){},451:function(e,t,a){},476:function(e,t,a){},477:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"requestNetworks",(function(){return F})),a.d(n,"setPageOfNetworks",(function(){return P}));var r={};a.r(r),a.d(r,"getSelectedCategories",(function(){return R})),a.d(r,"getSearchLocation",(function(){return q})),a.d(r,"getHoveredPointId",(function(){return H})),a.d(r,"getUsState",(function(){return A})),a.d(r,"getViewState",(function(){return B}));var o={};a.r(o),a.d(o,"getAllNetworks",(function(){return V})),a.d(o,"getFilteredNetworks",(function(){return D})),a.d(o,"getNetworksInArea",(function(){return W})),a.d(o,"getVisibleCards",(function(){return U})),a.d(o,"getBoundingBox",(function(){return G}));var s={};a.r(s),a.d(s,"setCategoryFilters",(function(){return ae})),a.d(s,"setLatLng",(function(){return ne})),a.d(s,"setHoveredPoint",(function(){return re})),a.d(s,"setUsState",(function(){return oe})),a.d(s,"resetToDefaultView",(function(){return se}));var i=a(37),l=a(38),c=a(45),u=a(43),m=a(46),d=a(0),p=a.n(d),f=a(153),h=a(9),g=a.n(h);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(272);var b=a(48),v=a(105),k=a(487),y=a(231),E=a.n(y),w=a(32),O=function(e,t){return"".concat(e,"-").concat(t)},N=O("EVENTS","REQUEST_NETWORKS"),C=O("EVENTS","SET_NETWORKS"),S=O("EVENTS","REQUEST_FAILED"),j=O("EVENTS","SET_PAGE_OF_NETWORKS"),L={allNetworks:[]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case C:return Object(w.a)({},e,{allNetworks:n,error:null});case j:return Object(w.a)({},e,{allNetworks:[].concat(Object(b.a)(e.allNetworks),Object(b.a)(n)),error:null});case S:return console.log("REQUEST_FAILED: ".concat(n)),Object(w.a)({},e,{error:n});default:return e}},F=function(){return{type:N}},P=function(e){return{type:j,payload:e}},x=a(85),I=a(31),_=a(188),M=a(489),R=function(e){return e.selections.categories},q=function(e){return e.selections.searchLocation},H=function(e){return e.selections.hoveredPointId},A=function(e){return e.selections.usState},B=Object(x.a)([q,A],(function(e,t){return e.lat||t?"list":"default"})),z=window.mapboxgl,V=function(e){return e.networks.allNetworks},D=Object(x.a)([V,R],(function(e,t){return t.length?Object(I.filter)(e,(function(e){return t.includes(e.category)})):[]})),W=Object(x.a)([V,q,A],(function(e,t,a){if(!t.lat&&!a)return[];if(!t.lat)return e.filter((function(e){return e.state&&e.state===a}));var n=new _.b(Number(t.lat),Number(t.lng));return e.filter((function(e){return!(!e.state||e.city||e.state!==a)||Object(M.a)(n,new _.b(Number(e.lat),Number(e.lng)))<80467})).sort((function(e,t){return Object(M.a)(n,new _.b(Number(e.lat),Number(e.lng)))-Object(M.a)(n,new _.b(Number(t.lat),Number(t.lng)))}))})),U=Object(x.a)([W,R],(function(e,t){return t.length?Object(I.filter)(e,(function(e){return t.includes(e.category)})):[]})),G=Object(x.a)([W],(function(e){return e.length?e.reduce((function(e,t,a){return a>0&&(e=e.extend(new z.LngLatBounds(t.bbox))),e}),new z.LngLatBounds(e[0].bbox)):null})),K=a(486),Z={actions:n,logics:[Object(K.a)({type:N,process:function(e,t,a){var n=e.httpClient,r=e.firebaseUrl;!function e(o){return n.get(o).then((function(n){var o=function(e){return e.body.documents.reduce((function(e,t){var a=t.fields,n=Object(I.mapValues)(a,(function(e){var t=Object(I.values)(e)[0];return e.integerValue&&(t=Number(t)),t.values&&(t=Object(I.map)(t.values,(function(e){return Object(I.values)(e)[0]}))),t}));return Number(n.id)&&e.push(n),e}),[])}(n);if(t(P(o)),n.body.nextPageToken){var s="".concat(r,"/?pageToken=").concat(n.body.nextPageToken);return e(s)}a()}))}(r)}})],reducers:T,selectors:o},Q=O("SELECTIONS","FILTER_BY_CATEGORY"),Y=O("SELECTIONS","SET_LAT_LNG"),J=O("SELECTIONS","SET_HOVERED_POINT"),X=O("SELECTIONS","SET_US_STATE"),$=O("SELECTIONS","RESET_TO_DEFAULTS"),ee=["General","Request Support","Offer Support","Community"],te={view:"default",categories:ee,language:"",community:"",searchLocation:{},hoveredPointId:null,usState:""},ae=function(e){return{type:Q,payload:e}},ne=function(e){return{type:Y,payload:e}},re=function(e){return{type:J,payload:e}},oe=function(e){return{type:X,payload:e}},se=function(){return{type:$}},ie={actions:s,logics:[],reducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(w.a)({},e,{categories:t.payload});case Y:return Object(w.a)({},e,{searchLocation:t.payload.center,usState:t.payload.usState});case $:return Object(w.a)({},e,{searchLocation:{},usState:""});case J:return Object(w.a)({},e,{hoveredPointId:t.payload});default:return e}},selectors:r},le={networks:Z.reducers,selections:ie.reducers},ce=[].concat(Object(b.a)(Z.logics),Object(b.a)(ie.logics)),ue={firebaseUrl:"https://firestore.googleapis.com/v1/projects/townhallproject-86312/databases/(default)/documents/mutual_aid_networks",httpClient:E.a},me=Object(k.a)(ce,ue),de=Object(v.a)(me);a(309);var pe=a(26),fe=(a(312),a(87)),he=a(490),ge=a(39),be=a(232),ve=a.n(be),ke=a(1),ye=a.n(ke),Ee="networks-dots",we="pk.eyJ1IjoidG93bmhhbGxwcm9qZWN0IiwiYSI6ImNrN3d1c3hhdDA1MmozbW80cW5oOWxzcHoifQ.rq66iVpULeHVB6PutWiunA",Oe="mapbox://styles/townhallproject/ck87rw1kt1g821is46uvwm08k",Ne=window.mapboxgl,Ce=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).addClickListener=a.addClickListener.bind(Object(ge.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.initializeMap()}},{key:"setFilters",value:function(){var e=this.props.selectedCategories;if(this.map.getLayer(Ee)){var t=["any"].concat(Object(b.a)(e.map((function(e){return["==",["get","category"],e]}))));this.map.setFilter(Ee,t)}}},{key:"componentDidUpdate",value:function(e){var t=this.props.selectedCategories;Object(I.isEqual)(t,e.selectedCategories)||this.setFilters()}},{key:"addClickListener",value:function(){var e=this,t=this.props,a=t.bounds,n=t.setBounds;this.map.on("click",(function(){n(a,e.props.stateName)}))}},{key:"initializeMap",value:function(){var e=this,t=this.props,a=t.bounds,n=t.mapId;Ne.accessToken=we,this.map=new Ne.Map({container:n,doubleClickZoom:!1,dragPan:!1,scrollZoom:!1,style:Oe}),this.map.fitBounds(a,{easeTo:{duration:0},linear:!0}),this.map.on("load",(function(){e.addClickListener(),e.map.setLayoutProperty(Ee,"visibility","visible")}))}},{key:"render",value:function(){var e=this.props,t=e.viewState,a=e.mapId,n=ye()({hidden:"list"===t,inset:!0});return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{id:a,className:n,"data-bounds":this.props.bounds}))}}]),t}(p.a.Component);Ce.defaultProps={selectedState:""};var Se=Ce,je=(a(343),a(344),a(345),a(346),window.mapboxgl),Le=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).filterDistrict=["any"],a.includedStates=["in","NAME"],a.addPopups=a.addPopups.bind(Object(ge.a)(a)),a.addClickListener=a.addClickListener.bind(Object(ge.a)(a)),a.setFilters=a.setFilters.bind(Object(ge.a)(a)),a.handleReset=a.handleReset.bind(Object(ge.a)(a)),a.insetOnClickEvent=a.insetOnClickEvent.bind(Object(ge.a)(a)),a.handleClickOnInset=a.handleClickOnInset.bind(Object(ge.a)(a)),a.initializeMap=a.initializeMap.bind(Object(ge.a)(a)),a.state={popoverColor:"popover-general-icon",bbox:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.initializeMap()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.hoveredPointId,n=t.viewState,r=t.bbox,o=t.selectedCategories;this.map.resize(),Object(I.isEqual)(o,e.selectedCategories)||this.setFilters(),e.viewState!==n&&(this.hoveredPopup.remove(),"default"===n&&this.setInitialState()),this.state.bbox&&"list"===n&&(this.fitBounds(this.state.bbox),this.setState({bbox:null})),r&&"list"===n&&r!==e.bbox&&this.fitBounds(r),a&&this.hoverPoint(a),e.hoveredPointId&&e.hoveredPointId!==a&&this.unHoverPoint(e.hoveredPointId)}},{key:"insetOnClickEvent",value:function(e){this.setState({inset:!1});var t=e.target.parentNode.parentNode.getAttribute("data-bounds").split(","),a=[Number(t[0]),Number(t[1])],n=[Number(t[2]),Number(t[3])],r=a.concat(n);this.fitBounds(r)}},{key:"fitBounds",value:function(e){this.map.fitBounds(e,{padding:{top:10,bottom:25,left:15,right:5},maxZoom:8})}},{key:"addPopups",value:function(e){var t=this,a=this.map;this.hoveredPopup=new je.Popup({closeButton:!0,closeOnClick:!0}),a.on("mousemove",(function(n){if(t.map.getLayer(Ee)){var r=a.queryRenderedFeatures(n.point,{layers:[e]});if(a.getCanvas().style.cursor=r.length?"pointer":"",r.length){var o,s=r[0],i=s.properties,l="popover-".concat(s.properties.category.split(" ").join("-").toLowerCase());t.setState({popoverColor:l}),t.props.setHoveredPoint(s.id),o=i.generalForm?'<a rel="noopener noreferrer" target="_blank" href='.concat(i.generalForm,">Link to form</a>"):i.supportOfferForm&&i.supportRequestForm?'<a rel="noopener noreferrer" class="side-by-side" target="_blank" href='.concat(i.supportOfferForm,'>Offer support</a><a class="side-by-side" target="_blank" href=').concat(i.supportRequestForm,">Request support</a>"):i.supportOfferForm?'<a rel="noopener noreferrer" href='.concat(i.supportOfferForm,">Offer support</a>"):i.supportRequestForm?'<a rel="noopener noreferrer" href='.concat(i.supportRequestForm,">Request support</a>"):'<a rel="noopener noreferrer" href='.concat(i.facebookPage,">Link to group</a>");var c=i.city?"".concat(i.city,", ").concat(i.state):i.state;return t.hoveredPopup.setLngLat(s.geometry.coordinates).setHTML("\n            <h4>".concat(i.title,"</h4>\n            <div>").concat(c,"</div>\n            <div>").concat(o,"</div>")).addTo(a)}}}))}},{key:"addClickListener",value:function(){var e=this.map,t=this.props.setLatLng;e.getLayer(Ee)&&e.on("click",(function(a){var n=e.queryRenderedFeatures(a.point,{layers:[Ee]});n.length>0&&t({center:{lat:n[0].properties.lat,lng:n[0].properties.lng},usState:n[0].properties.state})}))}},{key:"hoverPoint",value:function(e){this.map.getLayer(Ee)&&this.map.setFeatureState({source:"composite",sourceLayer:"mutual_aid_networks",id:e},{hover:!0})}},{key:"unHoverPoint",value:function(e){this.map.getLayer(Ee)&&this.map.setFeatureState({source:"composite",sourceLayer:"mutual_aid_networks",id:e},{hover:!1})}},{key:"handleReset",value:function(){(0,this.props.resetToDefaultView)()}},{key:"setInitialState",value:function(){this.fitBounds([[-128.8,23.6],[-65.4,50.2]]),document.getElementsByClassName("mapboxgl-ctrl-geocoder--input"),Array.from(document.getElementsByClassName("mapboxgl-ctrl-geocoder--input")).forEach((function(e){e.value=""})),this.map.resize()}},{key:"handleClickOnInset",value:function(e,t){this.setState({bbox:e}),this.props.setLatLng({center:{},usState:t})}},{key:"makeZoomToNationalButton",value:function(){document.querySelector(".mapboxgl-ctrl-compass").remove(),document.querySelector(".mapboxgl-ctrl-usa")&&document.querySelector(".mapboxgl-ctrl-usa").remove();var e=document.createElement("button");e.className="mapboxgl-ctrl-icon mapboxgl-ctrl-usa",e.innerHTML='<span class="usa-icon"></span>',e.addEventListener("click",this.handleReset),document.querySelector(".mapboxgl-ctrl-group").appendChild(e)}},{key:"setFilters",value:function(){var e=this.props.selectedCategories;if(this.map.getLayer(Ee)){var t=["any"].concat(Object(b.a)(e.map((function(e){return["==",["get","category"],e]}))));this.map.setFilter(Ee,t)}}},{key:"initializeMap",value:function(){var e=this,t=this.props,a=t.setLatLng,n=t.resetToDefaultView;je.accessToken=we,this.map=new je.Map({container:"map",style:Oe}),this.map.addControl(new je.NavigationControl),this.map.scrollZoom.disable(),this.map.dragRotate.disable(),this.map.touchZoomRotate.disableRotation(),this.makeZoomToNationalButton();var r=this.map;this.map.addControl(new ve.a({accessToken:je.accessToken,mapboxgl:je,countries:"us",marker:!1,zoom:12,flyTo:!1}).on("clear",(function(e){n()})).on("result",(function(e){r.resize();if("region"===e.result.place_type[0]){console.log(e.result);var t=e.result.properties.short_code.split("-")[1];return a({center:{},usState:t})}a({center:{lat:e.result.center[1],lng:e.result.center[0]},usState:""})})),"top-left"),this.fitBounds([[-128.8,23.6],[-65.4,50.2]]),this.map.on("load",(function(){e.addClickListener(),e.map.setPaintProperty(Ee,"circle-opacity",["case",["boolean",["feature-state","hover"],!1],1,.5]),e.map.setLayoutProperty(Ee,"visibility","visible"),e.addPopups(Ee)}))}},{key:"render",value:function(){var e=this.props,t=e.center,a=e.resetSelections,n=e.setLatLng,r=e.viewState,o=e.networks,s=e.selectedCategories;return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{id:"map",className:this.state.popoverColor},p.a.createElement("div",{className:"map-overlay",id:"legend"},p.a.createElement(Se,{networks:Object(I.filter)(o,{state:"AK"}),center:t,stateName:"AK",viewState:r,resetSelections:a,selectedCategories:s,setLatLng:n,setBounds:this.handleClickOnInset,mapId:"map-overlay-alaska",bounds:[[-170.15625,51.72702815704774],[-127.61718749999999,71.85622888185527]]})," ",p.a.createElement(Se,{networks:Object(I.filter)(o,{state:"HI"}),stateName:"HI",center:t,viewState:r,resetSelections:a,selectedCategories:s,setLatLng:n,setBounds:this.handleClickOnInset,mapId:"map-overlay-hawaii",bounds:[[-161.03759765625,18.542116654448996],[-154.22607421875,22.573438264572406]]})," ")," "))}}]),t}(p.a.Component);Le.defaultProps={};var Te=Le,Fe=(a(133),a(25)),Pe=(a(348),function(){return p.a.createElement("div",{className:"start-network-container"},p.a.createElement(Fe.a,{id:"start-network-button",target:"_blank",href:"https://docs.google.com/forms/d/e/1FAIpQLScuqQtCdKsDzvTzaA2PMyVHX7xcOqbOW7N7l_0YJASV4wMBVQ/viewform"},"Submit a Mutual Aid Network"))}),xe=(a(216),a(57)),Ie=(a(364),xe.a.Group),_e=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={indeterminate:!1,checkAll:!0},a.onChange=function(e){a.props.setFilters(e),a.setState({indeterminate:!!e.length&&e.length<ee.length,checkAll:e.length===ee.length})},a.onCheckAllChange=function(e){var t=e.target.checked?ee:[];a.setState({indeterminate:!1,checkAll:e.target.checked}),a.props.setFilters(t)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.visible?p.a.createElement("div",{className:ye()("filter-container",{"absolute-pos":this.props.absolute})},p.a.createElement("div",{className:"site-checkbox-all-wrapper"},p.a.createElement(xe.a,{indeterminate:this.state.indeterminate,onChange:this.onCheckAllChange,checked:this.state.checkAll},"Select all")),p.a.createElement("br",null),p.a.createElement(Ie,{value:this.props.selectedCategories,onChange:this.onChange},ee.map((function(e){return p.a.createElement(xe.a,{key:e.replace(" ","-").toLowerCase(),className:e.replace(" ","-").toLowerCase(),value:e},e)})))):null}}]),t}(p.a.Component),Me=(a(394),a(258)),Re=a(488),qe=(a(479),a(257)),He=(a(182),a(41)),Ae=(a(400),function(e){return p.a.createElement(p.a.Fragment,null,e.networks.map((function(t){var a=t.address,n=t.title,r=t.neighborhood,o=t.facebookPage,s=t.category,i=t.community,l=t.language,c=t.generalForm,u=t.supportRequestForm,m=t.supportOfferForm,d=t.id;return p.a.createElement(qe.a,{className:"network-card",title:n,key:d,onMouseEnter:function(){return e.setHoveredPoint(d)},onMouseLeave:function(){return e.setHoveredPoint(null)},extra:p.a.createElement("ul",{className:"list-inline"},s&&p.a.createElement("li",{className:"text-".concat(s.split(" ").join("-").toLowerCase())},s),i&&p.a.createElement("li",null,i))},p.a.createElement("ul",{className:"list-inline"},r&&p.a.createElement("li",null,r),a&&p.a.createElement("li",null,a),l&&p.a.createElement("li",null,l)),p.a.createElement(He.a,{justify:"space-between"},c&&p.a.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"button"},"Offer or request help"),u&&p.a.createElement("a",{href:u,rel:"noopener noreferrer",target:"_blank",className:"button"},"Request help"),m&&p.a.createElement("a",{href:m,rel:"noopener noreferrer",target:"_blank",className:"button"},"Offer help"),o&&p.a.createElement("a",{href:o,rel:"noopener noreferrer",target:"_blank",className:"button"},"Join social media")))})))}),Be=(a(423),Me.a.Title),ze=function(){return p.a.createElement("div",{className:"no-network-section"},p.a.createElement(Be,{level:3},p.a.createElement(Re.a,null)),p.a.createElement(Be,{level:3},"There are no support requests or networks nearby."))},Ve=function(e){var t=e.visibleCards,a=e.setHoveredPoint,n=e.setFilters,r=e.selectedCategories;return p.a.createElement("div",{className:"list-container"},t.length?p.a.createElement(p.a.Fragment,null,p.a.createElement(_e,{setFilters:n,absolute:!1,selectedCategories:r,visible:!0}),p.a.createElement(Ae,{setHoveredPoint:a,networks:t})):p.a.createElement(ze,null))},De=(a(224),a(27)),We=(a(442),a(242)),Ue=a.n(We),Ge=a(243),Ke=a.n(Ge),Ze=a(244),Qe=a.n(Ze),Ye=a(245),Je=a.n(Ye),Xe=a(246),$e=a.n(Xe),et=function(e){return p.a.createElement("div",{className:"about"},p.a.createElement("a",{href:"https://townhallproject.com/"},p.a.createElement("img",{src:Qe.a,alt:"Town Hall Project logo",className:"thpLogo"})),p.a.createElement("h2",{className:"title"},"This site is built and maintained by ",p.a.createElement("a",{href:"https://townhallproject.com/"},"Town Hall Project.")),p.a.createElement("div",{className:"container"},p.a.createElement("p",null,"Town Hall Project is a 501(c)(3) non-profit organization dedicated to lifting up the voices of Americans to lawmakers and other people in power. We created Mutual Aid Hub to highlight the incredible work of mutual aid organizers around the country, and to facilitate connections and shared strategies in this growing movement of community support."),p.a.createElement("div",{className:"imageCollage"},p.a.createElement(He.a,null,p.a.createElement(De.a,{span:14},p.a.createElement("img",{src:Ue.a,alt:"event map",className:"map"})),p.a.createElement(De.a,{span:10},p.a.createElement("img",{src:Je.a,alt:"Town Hall meeting",className:"hall"}))),p.a.createElement(He.a,null,p.a.createElement(De.a,{span:10},p.a.createElement("img",{src:$e.a,alt:"Town Hall meeting",className:"hall"})),p.a.createElement(De.a,{span:14},p.a.createElement("img",{src:Ke.a,alt:"pledge map",className:"map"})))),p.a.createElement("p",null,"We do not directly organize or coordinate any individual mutual aid effort. We do our best to curate and filter groups doing relevant, valuable work in their communities, but we cannot verify or vouch for any network or individual offerings. Please exercise all necessary judgement when interacting with community members not previously known to you.")))},tt=(a(443),function(){return p.a.createElement("div",{class:"webGl-warning",target:"_blank"},p.a.createElement("p",null,"Our interactive map feature uses WebGL, a plugin common in most modern browsers. Your browser does not have WebGL working currently."),p.a.createElement("p",null,"You can learn how to enable WebGL on",p.a.createElement("a",{rel:"noopener noreferrer",href:"https://get.webgl.org/",target:"_blank"}," this website.")))}),at=(a(478),a(256)),nt=(a(222),a(259)),rt=a(260),ot=a(491),st=(a(451),function(e){var t=Object(d.useState)(""),a=Object(rt.a)(t,2),n=a[0],r=a[1],o=e.networks,s=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{filterDropdown:function(a){var n=a.setSelectedKeys,r=a.selectedKeys,o=a.confirm,s=a.clearFilters;return p.a.createElement("div",{style:{padding:8}},p.a.createElement(nt.a,{placeholder:"Search ".concat(t),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return i(o,e)},style:{width:188,marginBottom:8,display:"block"}}),p.a.createElement(Fe.a,{type:"primary",onClick:function(){return i(o,e)},icon:p.a.createElement(ot.a,null),size:"small",style:{width:90,marginRight:8}},"Search"),p.a.createElement(Fe.a,{onClick:s,size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return p.a.createElement(ot.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return a?n[e].toLowerCase().includes(t.toLowerCase())||n[a].toLowerCase().includes(t.toLowerCase()):n[e].toLowerCase().includes(t.toLowerCase())},render:function(t){return n===e&&t}}},i=function(e,t){e(),r(t)},l=[Object(w.a)({title:"Organization",width:"15vw",fixed:"left",dataIndex:"title",key:"title",sorter:function(e,t){return e.title.localeCompare(t.title)}},s("title","organizations"),{render:function(e){return e}}),Object(w.a)({title:"City",width:"20vw",dataIndex:"city",key:"city",sorter:function(e,t){return e.city.localeCompare(t.city)}},s("city","cities"),{render:function(e){return e}}),Object(w.a)({title:"State",width:"10vw",dataIndex:"state",key:"state",sorter:function(e,t){return e.state.localeCompare(t.state)},defaultSortOrder:"ascend"},s("state","states"),{render:function(e){return e}}),Object(w.a)({title:"Languages",width:"20vw",dataIndex:"language",key:"language",sorter:function(e,t){return e.language.localeCompare(t.language)}},s("language","languages"),{render:function(e){return e}}),{title:"Get Involved",width:"20vw",filters:[{text:"General",value:"generalForm"},{text:"Offer Support",value:"supportOfferForm"},{text:"Request Support",value:"supportRequestForm"},{text:"Community",value:"facebookPage"}],dataIndex:"forms",onFilter:function(e,t){return t[e]},key:"forms",render:function(e,t){return p.a.createElement("ul",{key:"resources",className:"resources"},t.generalForm&&p.a.createElement("li",{key:"".concat(t.generalForm,"-general"),className:"form-link"},p.a.createElement(Fe.a,{ghost:!0,href:t.generalForm,target:"blank",className:"general"},"General")),t.supportOfferForm&&p.a.createElement("li",{key:"".concat(t.supportOfferForm,"-offer"),className:"form-link"},p.a.createElement(Fe.a,{ghost:!0,href:t.supportOfferForm,target:"blank",className:"offer"},"Offer Support")),t.supportRequestForm&&p.a.createElement("li",{key:"".concat(t.supportRequestForm,"-request"),className:"form-link"},p.a.createElement(Fe.a,{ghost:!0,href:t.supportRequestForm,target:"blank",className:"request"},"Request Support")),t.facebookPage&&p.a.createElement("li",{key:"".concat(t.facebookPage,"-facebook"),className:"form-link"},p.a.createElement(Fe.a,{ghost:!0,href:t.facebookPage,target:"blank",className:"other"},"Community")))}}];return p.a.createElement(p.a.Fragment,null,p.a.createElement(at.a,{rowKey:function(e){return e.id},columns:l,dataSource:o,pagination:{pageSize:20,hideOnSinglePage:!0},scroll:{x:768},size:"small"}))}),it=fe.a.Header,lt=fe.a.Content,ct=fe.a.Footer,ut=fe.a.Sider,mt=window.mapboxgl,dt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleNav=function(e){var t=a.props.resetToDefaultView;a.setState({currentTab:e.key}),a.state.isMobile&&a.setState({collapsed:!0}),t()},a.toggleCollapsibleMenu=function(){a.setState({collapsed:!a.state.collapsed})},a.checkIfMobile=function(){window.innerWidth<=768?a.setState({isMobile:!0}):a.setState({isMobile:!1})},a.state={currentTab:"map",isMobile:!1,collapsed:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.requestNetworks)(),this.checkIfMobile(),window.addEventListener("resize",this.checkIfMobile)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkIfMobile)}},{key:"render",value:function(){var e=this,t=this.props,a=t.setFilters,n=t.selectedCategories,r=t.filteredNetworks,o=t.viewState,s=t.setLatLng,i=t.setUsState,l=t.visibleCards,c=t.allNetworks,u=t.setHoveredPoint,m=t.hoveredPointId,d=t.masterBbox,f=t.resetToDefaultView;return c.length?p.a.createElement(fe.a,{className:"layout"},this.state.isMobile&&p.a.createElement(p.a.Fragment,null,this.state.collapsed?p.a.createElement(it,{onClick:this.toggleCollapsibleMenu},p.a.createElement(he.a,{className:"menu-btn"})):p.a.createElement(ut,{trigger:null},p.a.createElement("div",{className:"logo"}),p.a.createElement(pe.a,{theme:"dark",mode:"inline",onClick:this.handleNav,selectedKeys:[this.state.currentTab]},p.a.createElement(pe.a.Item,{key:"map"},"Map"),p.a.createElement(pe.a.Item,{key:"networks"},"Table View"),p.a.createElement(pe.a.Item,{key:"about"},"About")))),p.a.createElement(fe.a,null,!this.state.isMobile&&p.a.createElement(it,null,p.a.createElement("div",{className:"logo",onClick:function(){return e.handleNav({key:"map"})}}),p.a.createElement(pe.a,{theme:"dark",mode:"horizontal",style:{lineHeight:"64px"},onClick:this.handleNav,selectedKeys:[this.state.currentTab]},p.a.createElement(pe.a.Item,{key:"map"},"Map"),p.a.createElement(pe.a.Item,{key:"networks"},"Table View"),p.a.createElement(pe.a.Item,{key:"about"},"About"))),p.a.createElement(lt,{style:{padding:"0 50px"}},p.a.createElement("div",{className:"main-container"},"map"===this.state.currentTab&&p.a.createElement(p.a.Fragment,null,mt.supported()?p.a.createElement(p.a.Fragment,null,p.a.createElement(_e,{setFilters:a,selectedCategories:n,absolute:!0,visible:"default"===o}),p.a.createElement("div",{className:"interactive-content-".concat(o)},p.a.createElement(Te,{networks:r,viewState:o,setLatLng:s,selectedCategories:n,resetToDefaultView:f,hoveredPointId:m,setHoveredPoint:u,bbox:d,setUsState:i}),p.a.createElement(Ve,{visibleCards:l,setHoveredPoint:u,setFilters:a,selectedCategories:n}))):p.a.createElement(tt,null),p.a.createElement("div",{className:"tagline"},"Find Mutual Aid Networks and other community self-support projects near you. Reach out to these groups directly via the map above to get involved, offer resources, or submit needs requests."),p.a.createElement(Pe,null)),"networks"===this.state.currentTab&&p.a.createElement(st,{networks:c}),"about"===this.state.currentTab&&p.a.createElement(et,null))),p.a.createElement(ct,{style:{textAlign:"center"}},p.a.createElement("div",{className:"footer-text"},p.a.createElement("p",null,"We list these networks as a public resource. We cannot verify or vouch for any network or individual offerings. Please exercise all necessary judgement when interacting with community members not previously known to you."),p.a.createElement("p",null,"This data set is made available under the ",p.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"http://www.opendatacommons.org/licenses/pddl/1.0/"},"Public Domain Dedication and License v1.0"),"."),p.a.createElement("p",null,"This website is brought to you by ",p.a.createElement("a",{href:"https://townhallproject.com/",rel:"noopener noreferrer",target:"_blank"},"Town Hall Project"),". To report an error or other issue, please contact: ",p.a.createElement("a",{href:"mailto:info@townhallproject.com"},"info@townhallproject.com")))))):null}}]),t}(p.a.Component),pt=Object(f.b)((function(e){return{filteredNetworks:Z.selectors.getFilteredNetworks(e),selectedCategories:ie.selectors.getSelectedCategories(e),viewState:ie.selectors.getViewState(e),searchLocation:ie.selectors.getSearchLocation(e),visibleCards:Z.selectors.getVisibleCards(e),allNetworks:Z.selectors.getAllNetworks(e),hoveredPointId:ie.selectors.getHoveredPointId(e),masterBbox:Z.selectors.getBoundingBox(e)}}),(function(e){return{requestNetworks:function(){return e(Z.actions.requestNetworks())},setFilters:function(t){return e(ie.actions.setCategoryFilters(t))},setLatLng:function(t){return e(ie.actions.setLatLng(t))},setHoveredPoint:function(t){return e(ie.actions.setHoveredPoint(t))},setUsState:function(t){return e(ie.actions.setUsState(t))},resetToDefaultView:function(){return e(ie.actions.resetToDefaultView())}}}))(dt),ft=(a(476),Object(v.d)(Object(v.c)(le),de)),ht=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return p.a.createElement(f.a,{store:ft},p.a.createElement(pt,null))}}]),t}(d.Component);g.a.render(p.a.createElement(ht,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[263,1,2]]]);
//# sourceMappingURL=main.139c1314.chunk.js.map